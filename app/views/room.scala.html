@(id: Long, messages: Seq[Message])(implicit flash: play.api.mvc.Flash, user:Option[models.User])

@import helper._
@import controllers._
@import securesocial.core.SecureSocial

@main("sockets") {

<div id="onChat" class="row">
    <div class="col-md-8">
        <div id="messages">
            @messages.reverse.map { msg =>
                <div class="message">
                    <img class="avatar" src="@msg.avatar" />
                    <span>@msg.username</span>
                    <p>@msg.message</p>
                </div>
            }
        </div>
        <textarea id="talk" class="form-control" rows="3"></textarea>
    </div>
    <div class="col-md-3">
        <h2>Members</h2>
        <ul id="members">
        </ul>
    </div>
</div>

<script type="text/javascript" charset="utf-8" src="@routes.Application.chatRoomJs(id, user.get.uid.get)"></script>
<script type='text/javascript' src='@routes.Assets.at("js/chat.js")'></script>

}